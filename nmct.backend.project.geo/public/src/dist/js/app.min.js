function showErrorMsg(){jQuery(this).attr("data-popup-open");$('[data-popup="popup-1"]').fadeIn(350),$("#wrapper").toggleClass("toggled"),$("[data-popup-close]").on("click",function(e){var t=jQuery(this).attr("data-popup-close");$('[data-popup="'+t+'"]').fadeOut(350)})}function showPosition(e){var t=e.coords.latitude,a=e.coords.longitude,r={lat:t,lng:a};placeMarkerAndPanTo(r,map)}function placeMarkerAndPanTo(e,t){var a=new google.maps.Marker({position:e,map:t,draggable:!0});t.panTo(e);var r='<h1 class="iw-title">Your location!!</h1>',n=new google.maps.InfoWindow({content:r});a.addListener("click",function(){n.open(t,a)})}function showError(e){switch(e.code){case e.PERMISSION_DENIED:showErrorMsg();break;case e.POSITION_UNAVAILABLE:showErrorMsg();break;case e.TIMEOUT:showErrorMsg();break;case e.UNKNOWN_ERROR:showErrorMsg()}}var chat=function(){function e(e,a){if(void 0!==a&&null===document.getElementById(a)){var r=document.createElement("li"),n=document.createElement("div");n.setAttribute("class","chat-status"),r.appendChild(n),r.appendChild(document.createTextNode(a)),r.id=a,r.setAttribute("class","list-group-item online-users");var s=document.getElementById("users");s.appendChild(r),o[a]={currentUser:[],chatPartner:[]},t()}}function t(){var e=document.getElementsByClassName("online-users"),t=document.getElementsByClassName("sent-message")[0],r=document.getElementsByClassName("received-message")[0],n=document.getElementById("btn-send"),o=document.getElementById("selected-user");(""===chat.selectedUser||"undefined"==typeof chat.selectedUser||null===chat.selectedUser)&&n.setAttribute("disabled",!0);for(var s=0,i=e.length;i>s;s++){var c=s;!function(s){e[s].addEventListener("click",function(){chat.selectedUser=e[s].id,$(this).parent().children().removeClass("active"),$(this).addClass("active"),n.removeAttribute("disabled"),t.innerHTML="",r.innerHTML="",a(chat.selectedUser),o.innerHTML=e[s].id})}(c)}}function a(e){var t=document.getElementsByClassName("sent-message")[0],a=document.getElementsByClassName("received-message")[0];t.innerHTML="",a.innerHTML="";for(var r=0,n=o[e].currentUser.length;n>r;r++){var s=document.createElement("div");s.setAttribute("class","sent-message-box"),s.innerHTML=o[e].currentUser[r],t.appendChild(s)}for(var r=0,n=o[e].chatPartner.length;n>r;r++){var s=document.createElement("div");s.setAttribute("class","received-message-box"),s.innerHTML=o[e].chatPartner[r],a.appendChild(s)}}function r(e,t){document.getElementById(t).remove()}var n,o=[];return{addUser:e,deleteUser:r,selectedUser:n,messages:o,addMessageToChat:a}}(),Sha1={};Sha1.hash=function(e){e=e.utf8Encode();var t=[1518500249,1859775393,2400959708,3395469782];e+=String.fromCharCode(128);for(var a=e.length/4+2,r=Math.ceil(a/16),n=new Array(r),o=0;r>o;o++){n[o]=new Array(16);for(var s=0;16>s;s++)n[o][s]=e.charCodeAt(64*o+4*s)<<24|e.charCodeAt(64*o+4*s+1)<<16|e.charCodeAt(64*o+4*s+2)<<8|e.charCodeAt(64*o+4*s+3)}n[r-1][14]=8*(e.length-1)/Math.pow(2,32),n[r-1][14]=Math.floor(n[r-1][14]),n[r-1][15]=8*(e.length-1)&4294967295;for(var i,c,d,u,l,p=1732584193,h=4023233417,g=2562383102,m=271733878,f=3285377520,v=new Array(80),o=0;r>o;o++){for(var y=0;16>y;y++)v[y]=n[o][y];for(var y=16;80>y;y++)v[y]=Sha1.ROTL(v[y-3]^v[y-8]^v[y-14]^v[y-16],1);i=p,c=h,d=g,u=m,l=f;for(var y=0;80>y;y++){var M=Math.floor(y/20),T=Sha1.ROTL(i,5)+Sha1.f(M,c,d,u)+l+t[M]+v[y]&4294967295;l=u,u=d,d=Sha1.ROTL(c,30),c=i,i=T}p=p+i&4294967295,h=h+c&4294967295,g=g+d&4294967295,m=m+u&4294967295,f=f+l&4294967295}return Sha1.toHexStr(p)+Sha1.toHexStr(h)+Sha1.toHexStr(g)+Sha1.toHexStr(m)+Sha1.toHexStr(f)},Sha1.f=function(e,t,a,r){switch(e){case 0:return t&a^~t&r;case 1:return t^a^r;case 2:return t&a^t&r^a&r;case 3:return t^a^r}},Sha1.ROTL=function(e,t){return e<<t|e>>>32-t},Sha1.toHexStr=function(e){for(var t,a="",r=7;r>=0;r--)t=e>>>4*r&15,a+=t.toString(16);return a},"undefined"==typeof String.prototype.utf8Encode&&(String.prototype.utf8Encode=function(){return unescape(encodeURIComponent(this))}),"undefined"==typeof String.prototype.utf8Decode&&(String.prototype.utf8Decode=function(){try{return decodeURIComponent(escape(this))}catch(e){return this}}),"undefined"!=typeof module&&module.exports&&(module.exports=Sha1),"function"==typeof define&&define.amd&&define([],function(){return Sha1});var mapType=function(){"use strict";return{changeMapType:function(e){switch(e){case"hybrid":map.setMapTypeId(google.maps.MapTypeId.HYBRID);break;case"roadmap":map.setMapTypeId(google.maps.MapTypeId.ROADMAP);break;case"satellite":map.setMapTypeId(google.maps.MapTypeId.SATELLITE);break;case"terrain":map.setMapTypeId(google.maps.MapTypeId.TERRAIN);break;default:map.setMapTypeId(google.maps.MapTypeId.ROADMAP)}}}}(),activityModel={id:"",activityName:"",author:"",feeling:"",latitude:"",longitude:"",timestamp:""},shareModel={id:"",ShareName:"",author:"",feeling:"",latitude:"",longitude:"",timestamp:"",activityId:""},directives=angular.module("app");directives.directive("passwordToggle",["$compile",function(e){return{restrict:"A",scope:{},link:function(t,a,r){t.tgl=function(){a.attr("type","text"===a.attr("type")?"password":"text")};var n=angular.element('<a data-ng-click="tgl()">Toggle</a>');e(n)(t),a.wrap('<div class="password-toggle"/>').after(n)}}}]);var directives=angular.module("app");directives.directive("showtab",function(){return{link:function(e,t,a){t.click(function(e){e.preventDefault(),$(t).tab("show")})}}}),function(){"use strict";navigator.geolocation?navigator.geolocation.getCurrentPosition(showPosition,showError):showError(error)}();